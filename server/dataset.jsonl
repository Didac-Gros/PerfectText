{"messages":[{"role":"system","content":"Eres un asistente que genera preguntas basadas en un texto."},{"role":"user","content":"El texto es  Tamb´ e hi ha la funci´ o strval que conveteix n´ umeros en cadenes, substr que retorna una subcadena d’una cadena i str replace que substitueix car` acters dins una cadena d El consum est` a indicat en unitats consumides (litres, kwh) per 100Km i a Combustibles hi teniu el preu per unitat e S´ on obertes les que encara no tenen data real d’inici f Entenem que un vehicle ha abandonat la cursa si el seu temps ´ es NULLPr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 4 cas hauran d’apar` eixer ordenats per temps, de m´ es petit a m´ es gran. c) Inscripcions en una cursa: despr´ es d’escollir una cursa (de les que estiguin ober- tes e ), primer de tot es demanar` a la data i hora d’inici real de la cursa, s’actualitzar` a aquesta informaci´ o a la taula de Curses i, tot seguit, caldr` a poder anar inscrivint parelles personatge/vehicle tenint en compte que per cada parella tots dos han de ser del mateix usuari i que cada usuari podr` a tenir inscrits, com a molt, una parella personatge/vehicle en una mateixa cursa. Refer l’opci´ o d) de manera que, despr´ es d’haver entrat tots els temps dels vehicles que han acabat, s’insereixi autom` aticament a la taula Revisions una fila per cada un dels vehicles que passen la revisi´ o perqu` e compleixen alguns dels criteris descrits al par` agraf anterior (com a data de revisi´ o es posa la data de realitzaci´ o de la cursa). Afegir una opci´ o f ) al men´ u, amb dos aparatats f1 i f2, per consultar informaci´ o sobre les cerim` onies: f1) Consulta la quantitat total de pinky ingerida per cada personatge entre dues dates : es demanen dues dates i es mostra una llista amb l’` alies del personatge i la quantitat de pinky ingerit a cerim` onies que s’hagin fet entre aquelles dues dates (incloses). 5 5 Comentaris sobre la implementaci´ o 5 6 Lliuraments de la pr` actica i pesos de cada part 6 7 Correcci´ o de la pr` actica 6Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 2 1 Presentaci´ o Aquesta pr` actica pren com a base de treball la base de dades del videojoc de curses KarioMart que s’ha treballat durant les primeres sessions de laboratori. Amb les curses FestaCalella i FestaLlafranc (curses sense cap participant inscrit) podreu provar l’apartat c, i amb la cursa SantJoan2023 (amb inscrits per` o sense els temps entrats) podreu provar els apartat d) i e) encara que no us funcioni el c). Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 6 • Les 5 opcions que cal implementar en l’apartat com´ u tenen dificultats molt diferents: la b) i la e) s´ on les m´ es senzilles, llavors vindrien la a) i, finalment, la c) i la d). Refer l’opci´ o d) de manera que, despr´ es d’haver entrat tots els temps dels vehicles que han acabat, s’insereixi autom` aticament a la taula Cerimonies una fila per cada un dels personatges que hagin quedat primer, segon i tercer de la cursa. Aquesta taula guardar` a, com a m´ ınim, el codi del vehicle, la data de la revisi´ o, el nombre total de curses en les que ha participat des de l’´ ultima revisi´ o i l’` alies del personatge que l’ha condu¨ ıt a la darrera cursa en la que ha participat. Per facilitar aix` o podeu posar restriccions en l’entrada de dades (fer que el camp del formulari sigui una data, o que la introducci´ o del grup, del combustible i del propietari es faci des de desplegables constru¨ ıts a partit de SELECTs que obtingui tots els valors possibles). Imagineu que el proc´ es d’inscripcions comen¸ ca actualitzat la data i hora d’inici real de la cursa i, tot seguit es van afegint les inscripcions: cada usuari pot inscriure un personatge amb un vehicle per participar a la cursa (les dades es guarden a la taula ParticipantsCurses , amb la columna temps amb valor NULL ). sql amb les comandes SQL necess` aries per crear la taula (o taules) que facin falta per poder implementar el vostre apartat particular i per fer qualsevol altra modificaci´ o que hi hagueu fet. Cal comprovar que l’usuari propietari del personatge i vehicle tingui prou saldo per pagar el preu d’inscripci´ o i descomptar-li aquest preu del seu saldo (si no en t´ e prou no podr` a fer la inscripci´ o). Si la cursa encara no s’ha fet (no hi ha temps entrats) apareixer` a al principi de la p` agina “Llistat de participants” i es mostraran tots els vehicles i personatges inscrits (codi i descripci´ o del vehicle i alias del personatge). Compte: Cal tamb´ e refer l’inici de l’opci´ o d) de manera que no es puguin entrar temps en curses de les que ja s’ha fet l’assignaci´ o de revisions. Afegir una opci´ o f ) al men´ u, amb dos aparatats f1 i f2, per consultar les revisions: f1) Consulta dels vehicles revisats entre dues dates: es demanen dues dates i es mostren totes les revisions que s’hagin fet entre aquelles dues dates (incloses). Un cop introdu¨ ıts, es passar` a a una nova p` agina on hi haur` a les seg¨ uents opcions:Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 3 a) Donar d’alta un vehicle: cal demanar les dades (descripci´ o, color, consum, data compra, preu, grup de vehicles, combustible i propietari) amb valors v` alids a . Si la cursa ja s’ha fet apareixer` a el text “Classificaci´ o de la cursa” i es mostrar` a la mateixa informaci´ o que abans afegint-hi el temps que ha trigat cada vehicle o el text ’Abandonat’ f . En el primer cas l’ordre no importa per` o en el segon a Cal poder assegurar que els valors de la claus foranes existeixen a les taules corresponents, que el preu sigui positiu i que la data sigui una data correcta. Si no hi ´ es, no l’executarem i tots els canvis a l’estructura de la base de dades que cal fer als apartats particulars no estaran disponibles per la correcci´ o (i no funcionar` a). La pr` actica servir` a per treballar la connexi´ o entre un SGBD (Oracle) i un llenguatge extern (PHP) amb l’objectiu de poder generar p` agines web molt simples on es mostri informaci´ o extreta de la base de dades i des d’on es pugui modificar aquest contingut. b Assegureu-vos que no t´ e m´ es de tres d´ ıgits perqu` e el codi dels vehicles ´ es de 10 car` acters i ja en fem servir 7 (els dos primers del codi del grup i els cinc primers de la descripci´ o). Una cursa, amb codi SantJoan2023 , que t´ e uns quants inscrits per` o sense els temps intro- du¨ ıts (per poder provar directament els apartats d i e). Compte: Cal tamb´ e refer l’inici de l’opci´ o d) de manera que no es puguin entrar temps en curses de les que ja s’ha fet la cerim` onia de premis. • Si alg´ u vol fer servir alguna altra cosa a m´ es a m´ es del PHP i l’HTML (per exemple javascript per fer la interacci´ o m´ es rica) que ho parli abans amb el seu professor de pr` actiques. 5 Comentaris sobre la implementaci´ o • Cal implementar totes les opcions indicades en diversos fitxers PHP i HTML gestionant adequadament el pas de par` ametres entre les planes (com ara el nom d’usuari i password, que nom´ es es podran demanar un cop al principi de tot). d) Entrar temps de tots els participants: s’escollir` a una cursa a partir del seu nom (haur` a de ser una cursa ja tancada), es mostraran tots els participants (usu- ari, personatge i vehicle) i s’entrar` a el temps de cada participant. Suposant que PHP1 i PHP2 representen la nota de cada lliurament i que un NULL equival a un No Presentat, el c` alcul de la nota total de la pr` actica de PHP ser` a: DEF PHP1=7 a DEF PHP2=5 SELECT coalesce(&PHP1*0. La pr` actica t´ e un primer apartat com´ u per a tothom i un segon apartat (A o B) que haureu de fer en funci´ o del vostre grup de pr` actiques. edu el fitxer CognomsNomPractPHP que hagueu lliurat al Moodle, el descomprimirem dins el public html d’un usuari que tenim per corregir (no ho corregirem fent servir el que hi hagi al vostre usuari) i ens posarem a dins aquest public html 2. Cal inscriure tots els participants un rere l’altre: despr´ es d’inscriure cada parella s’oferir` a la possibilitat d’inscriure una altra parella o d’acabar les inscripcions (i es torna al men´ u principal). b) Mostrar vehicles: es mostraran tots els vehicles indicant el seu codi, la descripci´ o, el color, el combustible, el consum, el cost de combustible per fer 100 Km d i el nom i cognoms del propietari. Abans de fer una cursa, cal afegir una fila a la taula Curses indicant el codi, el nom, el premi, el preu d’inscripci´ o i la data i hora prevista d’inici. 3 Apartat com´ u Escriviu el codi HTML i PHP necessari per a gestionar, des d’una web, el seg¨ uent: • En la plana web inicial s’ha de demanar el codi identificatiu i la seva contrasenya per accedir a la base de dades. 4,NULL) AS FINAL FROM dual; a La comanda DEF no l’hem vist per` o simplement defineix una constant dins sqlplus que es pot accedir precedint el seu nom per un & En tots dos casos cal deixar en l’activitat corresponent de pr` actiques un fitxer en format tar. La reglamentaci´ o del KarioMart obliga, despr´ es de cada cursa, a portar a revisi´ o qualsevol vehicle que compleixi alguna de les tres condicions seg¨ uents: • que no n’hagi passat mai cap. • Data i hora de la cerim` onia: Ha de ser dues hores m´ es tard del final de la cursa (per saber el final de la cursa sumarem al dia i hora d’inici el temps del participant m´ es lent). Per cada cerim` onia es mostrar` a el nom de la cursa, la data de la cursa (inici real), la posici´ o en la que va quedar i els litres de pinky consumits. S’ordenar` a el resultat per n´ umero de revisions (de m´ es a menys) i, pels vehicles amb el mateix n´ umero de revisions, s’ordenar` a per la seva descripci´ o. pdf ) on s’expliqui el plantejament de la pr` actica i qualsevol altra decisi´ o que hagueu pres per realitzar la pr` actica. Pr` actiques de Bases de Dades Curs 2024/25 GDDV - GEB - GEINF PHP/web/Oracle (PDF generat el 25 de novembre de 2024)Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 1 ´ Index 1 Presentaci´ o 2 2 Plantejament inicial 2 3 Apartat com´ u 2 4 Apartats particulars 4 4. g En cas d’empat s’afegiran tantes files com corredors empatats, tots amb la mateixa posici´ o h Fa uns anys la gent de Kariomart van canviar el cava per Pinky a les cerim` omies, aplicant el seu comprom´ ıs de deixar de promoure, progressivament, el consum d’alcohol. • Podeu fer servir, sense cap limitaci´ o, tot el codi que us hem donat a l’explicaci´ o del PHP i Oracle. • IMPORTANT: el punt d’entrada de la pr` actica, ´ es a dir, la primera p` agina que cal cridar per fer funcionar la pr` actica cal que es digui practicaPHP. 7 Correcci´ o de la pr` actica La pr` actica no la corregirem accedint a la web que hi hagi al vostre public html sino que la corregirem de la manera seg¨ uent: 1. Important: cal tenir clar que aquesta pr` actica no pret´ en ser, ni molt menys, una pr` actica seriosa d’implementaci´ o de webs (farem un prototipus molt b` asic). Per poder realitzar aquesta pr` actica farem servir les taules ja existents tot i que far` a falta crear alguna taula m´ es. Pels que hagin abandonat es deixar` a el temps buit i no s’actualitzar` a per ells la taula ParticipantsCurses , quedant el seu temps com a NULL . En cas que es generi un codi duplicat, caldr` a que hi afegiu un n´ umero aleatori de 3 b d´ ıgits per fer-lo ´ unic. Despr´ es de demanar el personatge del qual es volen consultar, es mostraran les ce- rim` onies en les que ha participat i la quantitat de pinky ingerida en cada una d’elles. Cinc curses, amb codis Rally2020, Rally2021, Rally 2022, RuralEmp2021 i VoltaMedes2022 , que tenen inscrits i els temps entrats. Es mostrar` a el codi i la descripci´ o del vehicle, el n´ umero de revisions fetes i la data de la m´ es recent. Dues curses (codis FestaCalella i FestaLlafranc ) que no tenen cap participant inscrit (per poder provar l’apartat c). Aquest PDF, tot i que es lliuri nom´ es en el segon lliurament, ha de contenir una explicaci´ o de la totalitat de la pr` actica. Com a codi del vehicle s’agafaran els dos primers car` acters del codi del grup seguits pels 5 primers car` acters de la descripci´ o del cotxe (si hi ha espais en blanc, es canviaran per ‘ ’). No cal fer un tractament exhaustiu d’errors ni fer una interf´ ıcie molt sofisticada, per` o es valorar` a la simplicitat de cara a l’usuari."},{"role":"assistant","content":"Las preguntas son: 1. Quina funció s'utilitza per convertir números en cadenes?2.  -- Quina taula s'actualitza amb la data i hora d'inici real de la cursa?3.  -- Quina condició indica que un vehicle ha abandonat la cursa?4.  -- Quina informació es necessita per consultar la quantitat total de pinky ingerida?5.  -- Quina és la finalitat de la taula Cerimonies?6.  -- Quin tipus de vehicle pot participar en la cursa?7.  -- Quina condició es requereix per a la inscripció d'una parella personatge/vehicle?8.  -- Quin valor s'assigna a la data de revisió en la taula Revisions?9.  -- Quina opció fa referència a l'entrada de dades en el sistema?10.  -- Quines curses es poden utilitzar per provar l'apartat c?"}]}
{"messages":[{"role":"system","content":"Eres un asistente que genera un mapa conceptual basado en un texto."},{"role":"user","content":"El texto es:  Tamb´ e hi ha la funci´ o strval que conveteix n´ umeros en cadenes, substr que retorna una subcadena d’una cadena i str replace que substitueix car` acters dins una cadena d El consum est` a indicat en unitats consumides (litres, kwh) per 100Km i a Combustibles hi teniu el preu per unitat e S´ on obertes les que encara no tenen data real d’inici f Entenem que un vehicle ha abandonat la cursa si el seu temps ´ es NULLPr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 4 cas hauran d’apar` eixer ordenats per temps, de m´ es petit a m´ es gran. c) Inscripcions en una cursa: despr´ es d’escollir una cursa (de les que estiguin ober- tes e ), primer de tot es demanar` a la data i hora d’inici real de la cursa, s’actualitzar` a aquesta informaci´ o a la taula de Curses i, tot seguit, caldr` a poder anar inscrivint parelles personatge/vehicle tenint en compte que per cada parella tots dos han de ser del mateix usuari i que cada usuari podr` a tenir inscrits, com a molt, una parella personatge/vehicle en una mateixa cursa. Refer l’opci´ o d) de manera que, despr´ es d’haver entrat tots els temps dels vehicles que han acabat, s’insereixi autom` aticament a la taula Revisions una fila per cada un dels vehicles que passen la revisi´ o perqu` e compleixen alguns dels criteris descrits al par` agraf anterior (com a data de revisi´ o es posa la data de realitzaci´ o de la cursa). Afegir una opci´ o f ) al men´ u, amb dos aparatats f1 i f2, per consultar informaci´ o sobre les cerim` onies: f1) Consulta la quantitat total de pinky ingerida per cada personatge entre dues dates : es demanen dues dates i es mostra una llista amb l’` alies del personatge i la quantitat de pinky ingerit a cerim` onies que s’hagin fet entre aquelles dues dates (incloses). 5 5 Comentaris sobre la implementaci´ o 5 6 Lliuraments de la pr` actica i pesos de cada part 6 7 Correcci´ o de la pr` actica 6Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 2 1 Presentaci´ o Aquesta pr` actica pren com a base de treball la base de dades del videojoc de curses KarioMart que s’ha treballat durant les primeres sessions de laboratori. Amb les curses FestaCalella i FestaLlafranc (curses sense cap participant inscrit) podreu provar l’apartat c, i amb la cursa SantJoan2023 (amb inscrits per` o sense els temps entrats) podreu provar els apartat d) i e) encara que no us funcioni el c). Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 6 • Les 5 opcions que cal implementar en l’apartat com´ u tenen dificultats molt diferents: la b) i la e) s´ on les m´ es senzilles, llavors vindrien la a) i, finalment, la c) i la d). Refer l’opci´ o d) de manera que, despr´ es d’haver entrat tots els temps dels vehicles que han acabat, s’insereixi autom` aticament a la taula Cerimonies una fila per cada un dels personatges que hagin quedat primer, segon i tercer de la cursa. Aquesta taula guardar` a, com a m´ ınim, el codi del vehicle, la data de la revisi´ o, el nombre total de curses en les que ha participat des de l’´ ultima revisi´ o i l’` alies del personatge que l’ha condu¨ ıt a la darrera cursa en la que ha participat. Per facilitar aix` o podeu posar restriccions en l’entrada de dades (fer que el camp del formulari sigui una data, o que la introducci´ o del grup, del combustible i del propietari es faci des de desplegables constru¨ ıts a partit de SELECTs que obtingui tots els valors possibles). Imagineu que el proc´ es d’inscripcions comen¸ ca actualitzat la data i hora d’inici real de la cursa i, tot seguit es van afegint les inscripcions: cada usuari pot inscriure un personatge amb un vehicle per participar a la cursa (les dades es guarden a la taula ParticipantsCurses , amb la columna temps amb valor NULL ). sql amb les comandes SQL necess` aries per crear la taula (o taules) que facin falta per poder implementar el vostre apartat particular i per fer qualsevol altra modificaci´ o que hi hagueu fet. Cal comprovar que l’usuari propietari del personatge i vehicle tingui prou saldo per pagar el preu d’inscripci´ o i descomptar-li aquest preu del seu saldo (si no en t´ e prou no podr` a fer la inscripci´ o). Si la cursa encara no s’ha fet (no hi ha temps entrats) apareixer` a al principi de la p` agina “Llistat de participants” i es mostraran tots els vehicles i personatges inscrits (codi i descripci´ o del vehicle i alias del personatge). Compte: Cal tamb´ e refer l’inici de l’opci´ o d) de manera que no es puguin entrar temps en curses de les que ja s’ha fet l’assignaci´ o de revisions. Afegir una opci´ o f ) al men´ u, amb dos aparatats f1 i f2, per consultar les revisions: f1) Consulta dels vehicles revisats entre dues dates: es demanen dues dates i es mostren totes les revisions que s’hagin fet entre aquelles dues dates (incloses). Un cop introdu¨ ıts, es passar` a a una nova p` agina on hi haur` a les seg¨ uents opcions:Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 3 a) Donar d’alta un vehicle: cal demanar les dades (descripci´ o, color, consum, data compra, preu, grup de vehicles, combustible i propietari) amb valors v` alids a . Si la cursa ja s’ha fet apareixer` a el text “Classificaci´ o de la cursa” i es mostrar` a la mateixa informaci´ o que abans afegint-hi el temps que ha trigat cada vehicle o el text ’Abandonat’ f . En el primer cas l’ordre no importa per` o en el segon a Cal poder assegurar que els valors de la claus foranes existeixen a les taules corresponents, que el preu sigui positiu i que la data sigui una data correcta. Si no hi ´ es, no l’executarem i tots els canvis a l’estructura de la base de dades que cal fer als apartats particulars no estaran disponibles per la correcci´ o (i no funcionar` a). La pr` actica servir` a per treballar la connexi´ o entre un SGBD (Oracle) i un llenguatge extern (PHP) amb l’objectiu de poder generar p` agines web molt simples on es mostri informaci´ o extreta de la base de dades i des d’on es pugui modificar aquest contingut. b Assegureu-vos que no t´ e m´ es de tres d´ ıgits perqu` e el codi dels vehicles ´ es de 10 car` acters i ja en fem servir 7 (els dos primers del codi del grup i els cinc primers de la descripci´ o). Una cursa, amb codi SantJoan2023 , que t´ e uns quants inscrits per` o sense els temps intro- du¨ ıts (per poder provar directament els apartats d i e). Compte: Cal tamb´ e refer l’inici de l’opci´ o d) de manera que no es puguin entrar temps en curses de les que ja s’ha fet la cerim` onia de premis. • Si alg´ u vol fer servir alguna altra cosa a m´ es a m´ es del PHP i l’HTML (per exemple javascript per fer la interacci´ o m´ es rica) que ho parli abans amb el seu professor de pr` actiques. 5 Comentaris sobre la implementaci´ o • Cal implementar totes les opcions indicades en diversos fitxers PHP i HTML gestionant adequadament el pas de par` ametres entre les planes (com ara el nom d’usuari i password, que nom´ es es podran demanar un cop al principi de tot). d) Entrar temps de tots els participants: s’escollir` a una cursa a partir del seu nom (haur` a de ser una cursa ja tancada), es mostraran tots els participants (usu- ari, personatge i vehicle) i s’entrar` a el temps de cada participant. Suposant que PHP1 i PHP2 representen la nota de cada lliurament i que un NULL equival a un No Presentat, el c` alcul de la nota total de la pr` actica de PHP ser` a: DEF PHP1=7 a DEF PHP2=5 SELECT coalesce(&PHP1*0. La pr` actica t´ e un primer apartat com´ u per a tothom i un segon apartat (A o B) que haureu de fer en funci´ o del vostre grup de pr` actiques. edu el fitxer CognomsNomPractPHP que hagueu lliurat al Moodle, el descomprimirem dins el public html d’un usuari que tenim per corregir (no ho corregirem fent servir el que hi hagi al vostre usuari) i ens posarem a dins aquest public html 2. Cal inscriure tots els participants un rere l’altre: despr´ es d’inscriure cada parella s’oferir` a la possibilitat d’inscriure una altra parella o d’acabar les inscripcions (i es torna al men´ u principal). b) Mostrar vehicles: es mostraran tots els vehicles indicant el seu codi, la descripci´ o, el color, el combustible, el consum, el cost de combustible per fer 100 Km d i el nom i cognoms del propietari. Abans de fer una cursa, cal afegir una fila a la taula Curses indicant el codi, el nom, el premi, el preu d’inscripci´ o i la data i hora prevista d’inici. 3 Apartat com´ u Escriviu el codi HTML i PHP necessari per a gestionar, des d’una web, el seg¨ uent: • En la plana web inicial s’ha de demanar el codi identificatiu i la seva contrasenya per accedir a la base de dades. 4,NULL) AS FINAL FROM dual; a La comanda DEF no l’hem vist per` o simplement defineix una constant dins sqlplus que es pot accedir precedint el seu nom per un & En tots dos casos cal deixar en l’activitat corresponent de pr` actiques un fitxer en format tar. La reglamentaci´ o del KarioMart obliga, despr´ es de cada cursa, a portar a revisi´ o qualsevol vehicle que compleixi alguna de les tres condicions seg¨ uents: • que no n’hagi passat mai cap. • Data i hora de la cerim` onia: Ha de ser dues hores m´ es tard del final de la cursa (per saber el final de la cursa sumarem al dia i hora d’inici el temps del participant m´ es lent). Per cada cerim` onia es mostrar` a el nom de la cursa, la data de la cursa (inici real), la posici´ o en la que va quedar i els litres de pinky consumits. S’ordenar` a el resultat per n´ umero de revisions (de m´ es a menys) i, pels vehicles amb el mateix n´ umero de revisions, s’ordenar` a per la seva descripci´ o. pdf ) on s’expliqui el plantejament de la pr` actica i qualsevol altra decisi´ o que hagueu pres per realitzar la pr` actica. Pr` actiques de Bases de Dades Curs 2024/25 GDDV - GEB - GEINF PHP/web/Oracle (PDF generat el 25 de novembre de 2024)Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 1 ´ Index 1 Presentaci´ o 2 2 Plantejament inicial 2 3 Apartat com´ u 2 4 Apartats particulars 4 4. g En cas d’empat s’afegiran tantes files com corredors empatats, tots amb la mateixa posici´ o h Fa uns anys la gent de Kariomart van canviar el cava per Pinky a les cerim` omies, aplicant el seu comprom´ ıs de deixar de promoure, progressivament, el consum d’alcohol. • Podeu fer servir, sense cap limitaci´ o, tot el codi que us hem donat a l’explicaci´ o del PHP i Oracle. • IMPORTANT: el punt d’entrada de la pr` actica, ´ es a dir, la primera p` agina que cal cridar per fer funcionar la pr` actica cal que es digui practicaPHP. 7 Correcci´ o de la pr` actica La pr` actica no la corregirem accedint a la web que hi hagi al vostre public html sino que la corregirem de la manera seg¨ uent: 1. Important: cal tenir clar que aquesta pr` actica no pret´ en ser, ni molt menys, una pr` actica seriosa d’implementaci´ o de webs (farem un prototipus molt b` asic). Per poder realitzar aquesta pr` actica farem servir les taules ja existents tot i que far` a falta crear alguna taula m´ es. Pels que hagin abandonat es deixar` a el temps buit i no s’actualitzar` a per ells la taula ParticipantsCurses , quedant el seu temps com a NULL . En cas que es generi un codi duplicat, caldr` a que hi afegiu un n´ umero aleatori de 3 b d´ ıgits per fer-lo ´ unic. Despr´ es de demanar el personatge del qual es volen consultar, es mostraran les ce- rim` onies en les que ha participat i la quantitat de pinky ingerida en cada una d’elles. Cinc curses, amb codis Rally2020, Rally2021, Rally 2022, RuralEmp2021 i VoltaMedes2022 , que tenen inscrits i els temps entrats. Es mostrar` a el codi i la descripci´ o del vehicle, el n´ umero de revisions fetes i la data de la m´ es recent. Dues curses (codis FestaCalella i FestaLlafranc ) que no tenen cap participant inscrit (per poder provar l’apartat c). Aquest PDF, tot i que es lliuri nom´ es en el segon lliurament, ha de contenir una explicaci´ o de la totalitat de la pr` actica. Com a codi del vehicle s’agafaran els dos primers car` acters del codi del grup seguits pels 5 primers car` acters de la descripci´ o del cotxe (si hi ha espais en blanc, es canviaran per ‘ ’). No cal fer un tractament exhaustiu d’errors ni fer una interf´ ıcie molt sofisticada, per` o es valorar` a la simplicitat de cara a l’usuari."},{"role":"assistant","content":"Mapa conceptual: # Funciones PHP\n## Funciones de conversión\n### strval: Convierte números a cadenas\n### substr: Retorna subcadenas\n### str_replace: Sustituye caracteres\n\n# Consumo de recursos\n## Unidades de medida\n### Litros por 100Km\n### Kwh por 100Km\n## Precios\n### Precios por unidad en combustibles\n\n# Inscripciones en la carrera\n## Proceso de inscripción\n### Selección de carrera abierta\n### Registro de fecha y hora de inicio\n### Inscripción de parejas usuario-vehículo\n## Limitaciones\n### Parejas del mismo usuario\n### Máximo de una pareja por carrera\n\n# Criterios de revisión\n## Requisitos para revisión\n### Vehículo sin revisiones previas\n### Fecha de revisión posterior a la carrera\n### Cumplimiento de criterios específicos\n## Registro automático\n### Inserción en tabla de revisiones\n### Actualización de datos de la carrera\n\n# Consultas sobre ceremonias\n## Opciones de consulta\n### Total de pinky ingerido\n### Revisions entre fechas\n## Datos mostrados\n### Alias del personaje\n### Cantidad de pinky ingerido\n\n# Implementación de práctica\n## Estructura de la base de datos\n### Creación de tablas necesarias\n### Validación de datos de entrada\n## Opciones a desarrollar\n### Alta de vehículos\n### Mostrar vehículos inscritos\n### Entrada de tiempos de participantes\n\n# Consideraciones finales\n## Requisitos de diseño\n### Simplicidad en la interfaz\n### Validación de entradas de usuario\n## Procedimiento de evaluación\n### Límite de caracteres en códigos\n### Criterios de corrección y entrega"}]}
{"messages":[{"role":"system","content":"Eres un asistente que genera un mapa conceptual basado en un texto."},{"role":"user","content":"El texto es:  Tamb´ e hi ha la funci´ o strval que conveteix n´ umeros en cadenes, substr que retorna una subcadena d’una cadena i str replace que substitueix car` acters dins una cadena d El consum est` a indicat en unitats consumides (litres, kwh) per 100Km i a Combustibles hi teniu el preu per unitat e S´ on obertes les que encara no tenen data real d’inici f Entenem que un vehicle ha abandonat la cursa si el seu temps ´ es NULLPr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 4 cas hauran d’apar` eixer ordenats per temps, de m´ es petit a m´ es gran. c) Inscripcions en una cursa: despr´ es d’escollir una cursa (de les que estiguin ober- tes e ), primer de tot es demanar` a la data i hora d’inici real de la cursa, s’actualitzar` a aquesta informaci´ o a la taula de Curses i, tot seguit, caldr` a poder anar inscrivint parelles personatge/vehicle tenint en compte que per cada parella tots dos han de ser del mateix usuari i que cada usuari podr` a tenir inscrits, com a molt, una parella personatge/vehicle en una mateixa cursa. Refer l’opci´ o d) de manera que, despr´ es d’haver entrat tots els temps dels vehicles que han acabat, s’insereixi autom` aticament a la taula Revisions una fila per cada un dels vehicles que passen la revisi´ o perqu` e compleixen alguns dels criteris descrits al par` agraf anterior (com a data de revisi´ o es posa la data de realitzaci´ o de la cursa). Afegir una opci´ o f ) al men´ u, amb dos aparatats f1 i f2, per consultar informaci´ o sobre les cerim` onies: f1) Consulta la quantitat total de pinky ingerida per cada personatge entre dues dates : es demanen dues dates i es mostra una llista amb l’` alies del personatge i la quantitat de pinky ingerit a cerim` onies que s’hagin fet entre aquelles dues dates (incloses). 5 5 Comentaris sobre la implementaci´ o 5 6 Lliuraments de la pr` actica i pesos de cada part 6 7 Correcci´ o de la pr` actica 6Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 2 1 Presentaci´ o Aquesta pr` actica pren com a base de treball la base de dades del videojoc de curses KarioMart que s’ha treballat durant les primeres sessions de laboratori. Amb les curses FestaCalella i FestaLlafranc (curses sense cap participant inscrit) podreu provar l’apartat c, i amb la cursa SantJoan2023 (amb inscrits per` o sense els temps entrats) podreu provar els apartat d) i e) encara que no us funcioni el c). Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 6 • Les 5 opcions que cal implementar en l’apartat com´ u tenen dificultats molt diferents: la b) i la e) s´ on les m´ es senzilles, llavors vindrien la a) i, finalment, la c) i la d). Refer l’opci´ o d) de manera que, despr´ es d’haver entrat tots els temps dels vehicles que han acabat, s’insereixi autom` aticament a la taula Cerimonies una fila per cada un dels personatges que hagin quedat primer, segon i tercer de la cursa. Aquesta taula guardar` a, com a m´ ınim, el codi del vehicle, la data de la revisi´ o, el nombre total de curses en les que ha participat des de l’´ ultima revisi´ o i l’` alies del personatge que l’ha condu¨ ıt a la darrera cursa en la que ha participat. Per facilitar aix` o podeu posar restriccions en l’entrada de dades (fer que el camp del formulari sigui una data, o que la introducci´ o del grup, del combustible i del propietari es faci des de desplegables constru¨ ıts a partit de SELECTs que obtingui tots els valors possibles). Imagineu que el proc´ es d’inscripcions comen¸ ca actualitzat la data i hora d’inici real de la cursa i, tot seguit es van afegint les inscripcions: cada usuari pot inscriure un personatge amb un vehicle per participar a la cursa (les dades es guarden a la taula ParticipantsCurses , amb la columna temps amb valor NULL ). sql amb les comandes SQL necess` aries per crear la taula (o taules) que facin falta per poder implementar el vostre apartat particular i per fer qualsevol altra modificaci´ o que hi hagueu fet. Cal comprovar que l’usuari propietari del personatge i vehicle tingui prou saldo per pagar el preu d’inscripci´ o i descomptar-li aquest preu del seu saldo (si no en t´ e prou no podr` a fer la inscripci´ o). Si la cursa encara no s’ha fet (no hi ha temps entrats) apareixer` a al principi de la p` agina “Llistat de participants” i es mostraran tots els vehicles i personatges inscrits (codi i descripci´ o del vehicle i alias del personatge). Compte: Cal tamb´ e refer l’inici de l’opci´ o d) de manera que no es puguin entrar temps en curses de les que ja s’ha fet l’assignaci´ o de revisions. Afegir una opci´ o f ) al men´ u, amb dos aparatats f1 i f2, per consultar les revisions: f1) Consulta dels vehicles revisats entre dues dates: es demanen dues dates i es mostren totes les revisions que s’hagin fet entre aquelles dues dates (incloses). Un cop introdu¨ ıts, es passar` a a una nova p` agina on hi haur` a les seg¨ uents opcions:Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 3 a) Donar d’alta un vehicle: cal demanar les dades (descripci´ o, color, consum, data compra, preu, grup de vehicles, combustible i propietari) amb valors v` alids a . Si la cursa ja s’ha fet apareixer` a el text “Classificaci´ o de la cursa” i es mostrar` a la mateixa informaci´ o que abans afegint-hi el temps que ha trigat cada vehicle o el text ’Abandonat’ f . En el primer cas l’ordre no importa per` o en el segon a Cal poder assegurar que els valors de la claus foranes existeixen a les taules corresponents, que el preu sigui positiu i que la data sigui una data correcta. Si no hi ´ es, no l’executarem i tots els canvis a l’estructura de la base de dades que cal fer als apartats particulars no estaran disponibles per la correcci´ o (i no funcionar` a). La pr` actica servir` a per treballar la connexi´ o entre un SGBD (Oracle) i un llenguatge extern (PHP) amb l’objectiu de poder generar p` agines web molt simples on es mostri informaci´ o extreta de la base de dades i des d’on es pugui modificar aquest contingut. b Assegureu-vos que no t´ e m´ es de tres d´ ıgits perqu` e el codi dels vehicles ´ es de 10 car` acters i ja en fem servir 7 (els dos primers del codi del grup i els cinc primers de la descripci´ o). Una cursa, amb codi SantJoan2023 , que t´ e uns quants inscrits per` o sense els temps intro- du¨ ıts (per poder provar directament els apartats d i e). Compte: Cal tamb´ e refer l’inici de l’opci´ o d) de manera que no es puguin entrar temps en curses de les que ja s’ha fet la cerim` onia de premis. • Si alg´ u vol fer servir alguna altra cosa a m´ es a m´ es del PHP i l’HTML (per exemple javascript per fer la interacci´ o m´ es rica) que ho parli abans amb el seu professor de pr` actiques. 5 Comentaris sobre la implementaci´ o • Cal implementar totes les opcions indicades en diversos fitxers PHP i HTML gestionant adequadament el pas de par` ametres entre les planes (com ara el nom d’usuari i password, que nom´ es es podran demanar un cop al principi de tot). d) Entrar temps de tots els participants: s’escollir` a una cursa a partir del seu nom (haur` a de ser una cursa ja tancada), es mostraran tots els participants (usu- ari, personatge i vehicle) i s’entrar` a el temps de cada participant. Suposant que PHP1 i PHP2 representen la nota de cada lliurament i que un NULL equival a un No Presentat, el c` alcul de la nota total de la pr` actica de PHP ser` a: DEF PHP1=7 a DEF PHP2=5 SELECT coalesce(&PHP1*0. La pr` actica t´ e un primer apartat com´ u per a tothom i un segon apartat (A o B) que haureu de fer en funci´ o del vostre grup de pr` actiques. edu el fitxer CognomsNomPractPHP que hagueu lliurat al Moodle, el descomprimirem dins el public html d’un usuari que tenim per corregir (no ho corregirem fent servir el que hi hagi al vostre usuari) i ens posarem a dins aquest public html 2. Cal inscriure tots els participants un rere l’altre: despr´ es d’inscriure cada parella s’oferir` a la possibilitat d’inscriure una altra parella o d’acabar les inscripcions (i es torna al men´ u principal). b) Mostrar vehicles: es mostraran tots els vehicles indicant el seu codi, la descripci´ o, el color, el combustible, el consum, el cost de combustible per fer 100 Km d i el nom i cognoms del propietari. Abans de fer una cursa, cal afegir una fila a la taula Curses indicant el codi, el nom, el premi, el preu d’inscripci´ o i la data i hora prevista d’inici. 3 Apartat com´ u Escriviu el codi HTML i PHP necessari per a gestionar, des d’una web, el seg¨ uent: • En la plana web inicial s’ha de demanar el codi identificatiu i la seva contrasenya per accedir a la base de dades. 4,NULL) AS FINAL FROM dual; a La comanda DEF no l’hem vist per` o simplement defineix una constant dins sqlplus que es pot accedir precedint el seu nom per un & En tots dos casos cal deixar en l’activitat corresponent de pr` actiques un fitxer en format tar. La reglamentaci´ o del KarioMart obliga, despr´ es de cada cursa, a portar a revisi´ o qualsevol vehicle que compleixi alguna de les tres condicions seg¨ uents: • que no n’hagi passat mai cap. • Data i hora de la cerim` onia: Ha de ser dues hores m´ es tard del final de la cursa (per saber el final de la cursa sumarem al dia i hora d’inici el temps del participant m´ es lent). Per cada cerim` onia es mostrar` a el nom de la cursa, la data de la cursa (inici real), la posici´ o en la que va quedar i els litres de pinky consumits. S’ordenar` a el resultat per n´ umero de revisions (de m´ es a menys) i, pels vehicles amb el mateix n´ umero de revisions, s’ordenar` a per la seva descripci´ o. pdf ) on s’expliqui el plantejament de la pr` actica i qualsevol altra decisi´ o que hagueu pres per realitzar la pr` actica. Pr` actiques de Bases de Dades Curs 2024/25 GDDV - GEB - GEINF PHP/web/Oracle (PDF generat el 25 de novembre de 2024)Pr` actica introducci´ o PHP/Oracle, curs 2024/25 GEB-GDDV-GEINF 1 ´ Index 1 Presentaci´ o 2 2 Plantejament inicial 2 3 Apartat com´ u 2 4 Apartats particulars 4 4. g En cas d’empat s’afegiran tantes files com corredors empatats, tots amb la mateixa posici´ o h Fa uns anys la gent de Kariomart van canviar el cava per Pinky a les cerim` omies, aplicant el seu comprom´ ıs de deixar de promoure, progressivament, el consum d’alcohol. • Podeu fer servir, sense cap limitaci´ o, tot el codi que us hem donat a l’explicaci´ o del PHP i Oracle. • IMPORTANT: el punt d’entrada de la pr` actica, ´ es a dir, la primera p` agina que cal cridar per fer funcionar la pr` actica cal que es digui practicaPHP. 7 Correcci´ o de la pr` actica La pr` actica no la corregirem accedint a la web que hi hagi al vostre public html sino que la corregirem de la manera seg¨ uent: 1. Important: cal tenir clar que aquesta pr` actica no pret´ en ser, ni molt menys, una pr` actica seriosa d’implementaci´ o de webs (farem un prototipus molt b` asic). Per poder realitzar aquesta pr` actica farem servir les taules ja existents tot i que far` a falta crear alguna taula m´ es. Pels que hagin abandonat es deixar` a el temps buit i no s’actualitzar` a per ells la taula ParticipantsCurses , quedant el seu temps com a NULL . En cas que es generi un codi duplicat, caldr` a que hi afegiu un n´ umero aleatori de 3 b d´ ıgits per fer-lo ´ unic. Despr´ es de demanar el personatge del qual es volen consultar, es mostraran les ce- rim` onies en les que ha participat i la quantitat de pinky ingerida en cada una d’elles. Cinc curses, amb codis Rally2020, Rally2021, Rally 2022, RuralEmp2021 i VoltaMedes2022 , que tenen inscrits i els temps entrats. Es mostrar` a el codi i la descripci´ o del vehicle, el n´ umero de revisions fetes i la data de la m´ es recent. Dues curses (codis FestaCalella i FestaLlafranc ) que no tenen cap participant inscrit (per poder provar l’apartat c). Aquest PDF, tot i que es lliuri nom´ es en el segon lliurament, ha de contenir una explicaci´ o de la totalitat de la pr` actica. Com a codi del vehicle s’agafaran els dos primers car` acters del codi del grup seguits pels 5 primers car` acters de la descripci´ o del cotxe (si hi ha espais en blanc, es canviaran per ‘ ’). No cal fer un tractament exhaustiu d’errors ni fer una interf´ ıcie molt sofisticada, per` o es valorar` a la simplicitat de cara a l’usuari."},{"role":"assistant","content":"Mapa conceptual: # Funciones de PHP\n## Funciones de cadena\n### strval\n- Convierte números en cadenas.\n### substr\n- Retorna subcadenas de cadenas.\n### str_replace\n- Sustituye caracteres en cadenas.\n\n# Inscripciones en la Cursa\n## Proceso de inscripción\n### Selección de cursa\n- Solo cursas abiertas.\n### Datos requeridos\n- Fecha y hora de inicio real.\n- Parejas personaje/vehículo deben ser del mismo usuario.\n### Restricciones\n- Un máximo de una pareja por usuario en la misma cursa.\n\n# Gestión de Eventos\n## Criterios de revisión\n### Requisitos para revisión\n- Nunca ha pasado revisión.\n- Criterios específicos (detalles no mencionados).\n### Registro automático\n- Inserción en tabla de revisiones tras finalizar la cursa.\n  \n## Consultas de ceremonias\n### Consulta de ingesta de pinky\n- Entre dos fechas.\n### Información mostrada\n- Alias del personaje y cantidad ingerida.\n\n# Implementación de la práctica\n## Estructura de la base de datos\n### Tablas necesarias\n- Curses, ParticipantsCurses, Cerimonies, Revisiones.\n### Validación de datos\n- Comprobaciones de saldo, fechas y existencia de claves foráneas.\n\n## Opciones a implementar\n### Alta de vehículos\n- Datos requeridos (descripción, color, etc.).\n### Mostrar vehículos\n- Presentar vehículos con detalles relevantes.\n### Entrada de tiempos\n- Solo para cursas cerradas.\n\n# Requisitos Técnicos\n## Lenguajes y tecnologías\n### PHP y Oracle\n- Conexión entre SGBD y PHP.\n### HTML\n- Generación de páginas web simples.\n\n## Gestión de errores\n### Validación de entradas\n- Prevenir duplicados y errores de entrada.\n### Interfaz de usuario\n- Simplicidad en la presentación y manejo."}]}
